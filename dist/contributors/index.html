<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contributors</title>
    
    <link rel="icon" href="/favicon.ico" sizes="32x32">
    <link rel="icon" href="/assets/favicon/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/assets/favicon/apple-touch-icon.png">
    <meta name="Description" content="Developer standards and best practices.">
    <link rel="preload" as="font" href="/assets/fonts/Hey November.woff2" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" as="font" href="/assets/fonts/SpaceGrotesk.woff2" type="font/woff2" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/reset.css">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/home.css">
    <link rel="stylesheet" href="/assets/css/contributors.css">
    <link rel="stylesheet" href="/assets/css/blog.css">
    <link rel="stylesheet" href="/assets/css/richtext.css">
    <link rel="stylesheet" href="/assets/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/rss+xml" title="DEVEN - Developer Enablement">
    <script
      defer=""
      data-website-id="ebc3938a-02c7-4277-8789-cc133e8138f5"
      data-host-url="https://umami-gray-beta.vercel.app/"
      data-domains="thedeven.org"
      src="/assets/js/umami.js"></script>
  </head>
  <body>
    <div class='content-wrapper'>
      <header>
        <div class="navi">
          <nav class="nav" role="navigation" aria-label="Main">
            <ul class="nav-links">
              <li class="nav-item logo">
                <a href="/">Deven</a>
              </li>
              <li class="nav-item subnav" id="subnav">
                <button class="subnav-toggle" id="subnav-toggle" aria-expanded="false" onclick="toggleSubnav()">Discover<div class="subnav-chevron"></div>
                </button>
                <div class="subnav-container">
                  <ul>
                    <li class="subnav-item">
                      <a href="/#about-deven">About</a>
                    </li>
                    <li class="subnav-item">
                      <a href="/#tools">Tools</a>
                    </li>
                    <li class="subnav-item">
                      <a href="/#team">Team</a>
                    </li>
                    <li class="subnav-item">
                      <a href="/#latest-news">Latest News</a>
                    </li>
                  </ul>
                  <button class="close-btn" onclick="closeSubnav()">
                    <span class="visually-hidden">Close Discover menu</span>
                  </button>
                </div>
              </li><li class="nav-item" >
                  <a href="/blog/">Blog</a>
                </li><li class="nav-item nav-item-active"  aria-current="page" >
                  <a href="/contributors/">Contributors</a>
                </li></ul>
          </nav>
        </div>
        <div class="header-content">
          
  <h1>
    <span>Contributors</span>
  </h1>

        </div>
      </header>
      <main >
        


<section>
  <h2>Want to contribute?</h2>
  <p>Awesome! Right now, our super talented DEVEN team and other awesome Accenture employees are handling all our current projects. But don't you worry, we'll let you know when there's a chance for you to get in on the action. In the meantime, feel free to check out our open-source projects, such as the documentation skeleton.</p>
  <h2>How to join DEVEN org on GitHub?</h2>
  <p>If you're an Accenture employee with an Accenture email address, you're in luck! You can join our organization to get all the details on what we're currently working on, ways to get involved, and other cool stuff. We have contribution guidelines and other resources waiting for you. Let's link up and see you on the other side!</p>
  <a href='https://github.com/deven-org' target="_blank" rel="noopener">Request access ‚Üí</a>
</section>
<section>
  <h2>Special Thanks to...</h2>
  <div><div>
              <img src="/assets/images/simon.jpg" alt="">
              <div class="thanked-info">
                  <h3>Simon Novak</h3>
                  <p>for Product Ownership </p>
              </div>
          </div><div>
              <img src="/assets/images/giordana.jpg" alt="">
              <div class="thanked-info">
                  <h3>Giordana Furquim</h3>
                  <p>for Technical Product Ownership</p>
              </div>
          </div><div>
              <img src="/assets/images/raffaele.jpg" alt="">
              <div class="thanked-info">
                  <h3>Raffaele Pizzari</h3>
                  <p>for Lead Product Engineering</p>
              </div>
          </div><div>
              <img src="/assets/images/ross.jpg" alt="">
              <div class="thanked-info">
                  <h3>Ross DiLiegro</h3>
                  <p>for Product Engineering</p>
              </div>
          </div><div>
              <img src="/assets/images/david.jpg" alt="">
              <div class="thanked-info">
                  <h3>David Kennedy</h3>
                  <p>for Product Engineering</p>
              </div>
          </div><div>
              <img src="/assets/images/kundan.jpg" alt="">
              <div class="thanked-info">
                  <h3>Kundan Pawar</h3>
                  <p>for Product Engineering</p>
              </div>
          </div><div>
              <img src="/assets/images/remmy.jpg" alt="">
              <div class="thanked-info">
                  <h3>Remmy Cat Stock</h3>
                  <p>for Product Engineering</p>
              </div>
          </div><div>
              <img src="/assets/images/kathi.png" alt="">
              <div class="thanked-info">
                  <h3>Kathrin Kr√§mer</h3>
                  <p>for Product Engineering</p>
              </div>
          </div><div>
              <img src="/assets/images/ania.jpg" alt="">
              <div class="thanked-info">
                  <h3>Ania Bui</h3>
                  <p>for Product Design</p>
              </div>
          </div></div>
  <h2>GitHub Contributors</h2>
  <div>
    <span id="contributors-status-loading">Loading Contributors‚Ä¶ ‚è≥</span>
    <span aria-live="polite" hidden id="contributors-status-error">Could not load GitHub Contributors üòî</span>
  </div>
  <div id="contributors" hidden>
    
  </div>
</section>
<script type="module">
  // Unauthenticated REST endpoints are rate limited at usually 60req/IP/hour
  // So we try to cache results in localStorage for an hour
  const CACHE_RETENTION_MS = 1000 * 60 * 60;
  const GITHUB_API_VERSION = "2022-11-28";
  const LOCAL_STORAGE_CACHE_KEY = "contrib-cache";

  function getCachedContributors() {
    /*
      Cache format v1

      {
        updated_at: number,
        version: 1,
        contributors: {
          id: number,
          login: string,
          avatar_url: string,
          html_url: string,
          contributions: number,
        }[]
      }
    */
    const cachedUsers = JSON.parse(localStorage.getItem(LOCAL_STORAGE_CACHE_KEY));

    console.log(cachedUsers);

    if (!cachedUsers || cachedUsers.version !== 1) {
      return null;
    }

    if (Date.now() - cachedUsers.updated_at > CACHE_RETENTION_MS) {
      localStorage.removeItem(LOCAL_STORAGE_CACHE_KEY);
      return null;
    }

    return cachedUsers.contributors;
  }

  function cacheContributors(contributors) {
    const cacheData = JSON.stringify({
      updated_at: Date.now(),
      version: 1,
      contributors,
    });
    localStorage.setItem(LOCAL_STORAGE_CACHE_KEY, cacheData);
  }

  async function fetchGithubJson(endpoint) {
    const response = await fetch(`https://api.github.com${endpoint}`, {
      headers: { "X-GitHub-Api-Version": GITHUB_API_VERSION }
    });

    if (!response.ok) {
      throw new Error("Unknown error fetching from GitHub");
    }

    return await response.json();
  }

  async function fetchDevenContributors() {
    const cached = getCachedContributors();

    if (cached) {
      return cached;
    }

    // Step 1: Fetch all public repos in deven-org
    const orgRepos = await fetchGithubJson("/orgs/deven-org/repos");
    // Step 2: Fetch all contributors for each repo
    const contributorsResults = await Promise.allSettled(
        orgRepos.map(repo => fetchGithubJson(`/repos/${repo.full_name}/contributors`))
    );

    // Using Promise.allSettled with this filter ignores partial fails
    // i.e. if one repo cannot be fetched, we will ignore this
    const contributorsLists = contributorsResults
      .filter(res => res.status === "fulfilled" && res.value.length > 0)
      .map(res => res.value);

    const dedupedList = [];

    for (const list of contributorsLists) {
      for (const user of list) {
        if (user.type !== "User") {
          continue;
        }

        const existing = dedupedList.find(u => u.id === user.id);
        if (existing) {
          existing.contributions += user.contributions
        } else {
          const { id, login, avatar_url, html_url, contributions } = user;
          dedupedList.push({ id, login, avatar_url, html_url, contributions });
        }
      }
    }

    if (dedupedList.length === 0) {
      throw new Error("No contributors found");
    }

    dedupedList.sort((a, b) => b.contributions - a.contributions); // descending

    cacheContributors(dedupedList);

    return dedupedList;
  }


  fetchDevenContributors().then((contributors) => {
    const contributorsSection = document.getElementById("contributors");

    for (const user of contributors) {
      /*
        We're generating this:

        <a href={user.html_url} class="image-container">
          <img class="contributor-pic" src={user.avatar_url} alt={user.login} title={user.login} />
        </a>
      */

      const userLink = document.createElement("a");
      userLink.classList.add("image-container");
      userLink.href = user.html_url;
      userLink.target = "_blank"
      userLink.rel = "noopener"

      const image = document.createElement("img");
      image.src = user.avatar_url;
      image.alt = user.login;
      image.title = user.login;
      image.classList.add("contributor-pic");

      userLink.appendChild(image);
      contributorsSection.appendChild(userLink);
    }

    document.getElementById("contributors-fetch-status").setAttribute("hidden", "");
    contributorsSection.removeAttribute("hidden");
  }).catch((e) => {
    console.warn("An error occured while fetching the GitHub contributor list");
    console.error(e);
    document.getElementById("contributors-status-loading").setAttribute("hidden", "");
    document.getElementById("contributors-status-error").removeAttribute("hidden");
  });
</script>
      </main>
      <footer class="footer-content">
        <p id="copyright"></p>
        <a href='/imprint'>Imprint</a>
      </footer>
    </div>
    <script>
      document.getElementById('copyright').innerHTML = `&copy DEVEN ${
        new Date().getFullYear()
      }. All rights reserved.`;
      // Subnav handling
      //
      // Since we have to update aria-expanded anyway, we can use it as our source of truth for the state (in JS and CSS).
      document.addEventListener('click', function (event) { // listen to outside clicks (only) to close subnav automatically
        const isOutside = !document.getElementById("subnav").contains(event.target);
        const subnavToggle = document.getElementById('subnav-toggle');
        if (isOutside && subnavToggle.getAttribute("aria-expanded") !== "false") {
          subnavToggle.setAttribute("aria-expanded", "false");
        }
      });
      function toggleSubnav() {
        const subnavToggle = document.getElementById('subnav-toggle');
        if (subnavToggle.getAttribute("aria-expanded") === "false") {
          subnavToggle.setAttribute("aria-expanded", "true");
        } else {
          subnavToggle.setAttribute("aria-expanded", "false");
        }
      }
      function closeSubnav() {
        document.getElementById('subnav-toggle').setAttribute("aria-expanded", "false");
      }
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        if (typeof(umami) === 'undefined') { // if umami is not loaded return early
          return;
        }
        // regx to identify posts links and extract post name
        const regExp = /(\/posts\/)(.*)/;
        const match = window
          .location
          .pathname
          .match(regExp);
        if (match && match[1] == "/posts/") {
          const linkElements = document.querySelector("article").querySelectorAll("a");
          for (let step = 0; step <= linkElements.length - 1; step++) {
            linkElements[step].onclick = () => {
              umami.track(`blog-link-${
                match[2]
              }`, {"url": linkElements[step].href})
            }
          }
        }
      });
    </script>
  </body>
</html>